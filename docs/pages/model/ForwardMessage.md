---
title: ForwardMessage
sidebar: home_sidebar
keywords: ForwardMessage
permalink: ForwardMessage.html
toc: true
folder: Commands
---

![Commands](images/ForwardMessage.png "ForwardMessage")
<p>
<i>* Validation error text may vary depending on a source of an error</i>
</p>

## Description

<p> This method is for forwarding messages.
</p>
If a service specify value of localID variable, it would get [MessageIdAssigned](https://btsdigital.github.io/bot-api-contract/messageidassigned.html) update asynchroniously.
<p> On succes empty response with http code 200 is returned.
</p>

## Endpoint

https://messapi.btsdapps.net/bot/v1/updates/

## Structure

| Variable  | Obligative  | Type| Validation| Description
|---|:---:|---|---|---|
| type | true | String | Must be filled with "ForwardMessage" value |Type of request "ForwardMessage" |
| localId | false |  String |LocalID length should be <= 255  | Message ID generated by Bot  |
| fromDialog  | true |  [Peer](https://btsdigital.github.io/bot-api-contract/peer.html) | For Peer type validation see type page| Peer from which message is forwarded |
| toDialog  | true |  [Peer](https://btsdigital.github.io/bot-api-contract/peer.html) | For Peer type validation see type page| Peer to send forwarded message to |
| messageId | true |  String |Value must be a valid Time UUID  | Uuid with backend ID of a message to forward  |


## Sample request

```
{
  "commands": [{
      "type": "ForwardMessage",
      "fromDialog": {
      "type": "USER",
        "id": "Uuid_value"
      },
      "toDialog": {
      "type": "USER",
        "id": "Uuid_value"
      },
      "messageId": "Uuid_value"
 }]
}
```

## Updates

<p>This method may asynchronously return following updates:
</p>

N/A

## Possible business exceptions

<i>Common context </i>
<p>
<ul>
    <li>Service isn't able to send forwarded message if it wasn't found (deleted/ID error);</li>
    <li>Service isn't able to send forwarded message if type of that message is container. Function is not supported ;</li>
</ul>
</p>
<i>Service to service dialog
</i>
<p>Sending forwarded messages from service to service is not available, function is not supported.
</p>
<i>Service to user dialog
</i>
<p>
<ul>
<li>Sending forwarded messages to a user who banned a service ( put a service into a black list) is not available;
</li>
<li>Sending forwarded messages to a user is not available if a dialog wasn't found (deleted/ID error);
</li>
<li> Sending forwarded messages to a user is not available if Peer type and Peer ID specified in request to dialog doesn't match.
</li>
</ul>  
</p>
<i>Service to channel dialog
</i>
<p>
<ul>
  <li> Sending forwarded messages to a channel is not available if a channel wasn't found (deleted/ID error) or channel was banned;
  </li>
  <li>Sending forwarded messages to a channel is not available if a service is not a channel subscriber and has no administrator/owner role assigned with a permission to write.
  </li>
</ul>
</p>
<i>Service to group dialog
</i>
<p>
Sending forwarded messages to a group dialog is is not available if a service is not a member of this group.
</p>
